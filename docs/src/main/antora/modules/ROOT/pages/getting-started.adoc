= Getting Started
:page-title: Getting Started with Spring AI Agents
:toc: left
:tabsize: 2
:sectnums:

This guide will help you get started with Spring AI Agents in under 5 minutes.

== Try It Now with JBang (Zero Setup)

The fastest way to experience Spring AI Agents - no cloning, no building:

[source,bash]
----
# One-time setup: Add the catalog
jbang catalog add --name=springai \
  https://raw.githubusercontent.com/spring-ai-community/spring-ai-agents/main/jbang-catalog.json

# Try a static agent (no API key needed)
jbang agents@springai hello-world \
  path=test.txt \
  content="Hello Spring AI Agents!"

# Try an AI-powered agent (requires API key)
export ANTHROPIC_API_KEY="your-key-here"
jbang agents@springai hello-world-agent-ai \
  path=greeting.txt \
  content="a creative welcome message" \
  provider=claude
----

Ready to integrate into your Spring application? Continue below.

== Prerequisites

Before integrating into your Spring application, ensure you have:

* Java 17 or higher
* Maven 3.6.3 or higher
* An agent CLI tool installed (Claude Code, Gemini CLI, or SWE Agent)
* API keys for your chosen agent provider

== Installing Agent CLI Tools

=== Claude Code CLI

Install Claude Code from NPM:

[source,bash]
----
npm install -g @anthropic-ai/claude-code
----

Set your API key:
[source,bash]
----
export ANTHROPIC_API_KEY="your-api-key-here"
----

Get your API key from the https://console.anthropic.com/[Anthropic Console].

=== Gemini CLI

Install Gemini CLI from NPM:

[source,bash]
----
npm install -g @google/generative-ai-cli
----

Set your API key:
[source,bash]
----  
export GEMINI_API_KEY="your-api-key-here"
----

== Adding the Library to Your Project

=== Maven

Add the following dependencies to your `pom.xml`:

[source,xml]
----
<dependencies>
    <!-- Core AgentClient API -->
    <dependency>
        <groupId>org.springaicommunity.agents</groupId>
        <artifactId>spring-ai-agent-client</artifactId>
        <version>0.1.0-SNAPSHOT</version>
    </dependency>
    
    <!-- Choose your agent provider -->
    <dependency>
        <groupId>org.springaicommunity.agents</groupId>
        <artifactId>spring-ai-claude-agent</artifactId>
        <version>0.1.0-SNAPSHOT</version>
    </dependency>
</dependencies>
----

=== Gradle

Add the following dependencies to your `build.gradle`:

[source,groovy]
----
dependencies {
    implementation 'org.springaicommunity.agents:spring-ai-agent-client:0.1.0-SNAPSHOT'
    implementation 'org.springaicommunity.agents:spring-ai-claude-agent:0.1.0-SNAPSHOT'
}
----

== Quick Start Example

Here's a simple example using Spring AI Agents with Claude Code:

[source,java]
----
import java.nio.file.Path;
import java.nio.file.Paths;

import org.springaicommunity.agents.advisors.judge.JudgeAdvisor;
import org.springaicommunity.agents.client.AgentClient;
import org.springaicommunity.agents.client.AgentClientResponse;
import org.springaicommunity.agents.claude.ClaudeAgentModel;
import org.springaicommunity.agents.claude.ClaudeAgentOptions;
import org.springaicommunity.agents.claude.sdk.ClaudeAgentClient;
import org.springaicommunity.agents.claude.sdk.transport.CLIOptions;
import org.springaicommunity.agents.judge.fs.FileExistsJudge;
import org.springaicommunity.agents.judge.result.Judgment;
import org.springaicommunity.agents.model.sandbox.LocalSandbox;

public class HelloAgentWorld {
    public static void main(String[] args) {
        // 1. Set up workspace
        Path workingDir = Paths.get(System.getProperty("user.dir"));

        // 2. Create the Claude Agent client
        ClaudeAgentClient claudeClient = ClaudeAgentClient.create(
            CLIOptions.defaultOptions(),
            workingDir
        );

        // 3. Configure agent options
        ClaudeAgentOptions options = ClaudeAgentOptions.builder()
            .model("claude-sonnet-4-20250514")
            .yolo(true) // Allow agent to make changes
            .build();

        // 4. Create sandbox and agent model
        LocalSandbox sandbox = new LocalSandbox(workingDir);
        ClaudeAgentModel agentModel = new ClaudeAgentModel(claudeClient, options, sandbox);

        // 5. Create judge to verify file creation
        FileExistsJudge fileJudge = new FileExistsJudge("HelloWorld.java");
        JudgeAdvisor judgeAdvisor = JudgeAdvisor.builder().judge(fileJudge).build();

        // 6. Create AgentClient with judge advisor
        AgentClient client = AgentClient.builder(agentModel)
            .defaultAdvisor(judgeAdvisor)
            .build();

        // 7. Execute the goal
        String goal = "Create a simple Hello World Java class in a file called HelloWorld.java";
        AgentClientResponse response = client.goal(goal)
            .workingDirectory(workingDir)
            .run();

        // 8. Get results and verification
        System.out.println("Agent execution completed");
        System.out.println("Success: " + response.isSuccessful());
        System.out.println("Result: " + response.getResult());

        // 9. Check judge verification
        Judgment judgment = response.getJudgment();
        if (judgment != null) {
            System.out.println("Judge verification: " +
                (judgment.pass() ? "PASSED" : "FAILED"));
            System.out.println("Reasoning: " + judgment.reasoning());
        }
    }
}
----

== Understanding the Example

Let's break down what happened in the example:

1. **Workspace Setup**: We define the working directory where the agent will operate
2. **Client Creation**: We create a `ClaudeAgentClient` to communicate with the Claude CLI
3. **Agent Options**: We configure the agent with a model and enable "yolo" mode (allows modifications)
4. **Sandbox and Model**: We create a `LocalSandbox` for execution and wrap everything in a `ClaudeAgentModel`
5. **Judge Setup**: We create a `FileExistsJudge` to verify the file was created, wrapped in a `JudgeAdvisor`
6. **AgentClient Builder**: We use `AgentClient.builder()` to configure the client with the judge advisor
7. **Goal Execution**: We execute the goal using the fluent API: `goal().workingDirectory().run()`
8. **Result Access**: We get the result using `.getResult()` and check success
9. **Judge Verification**: We retrieve the judgment using `.getJudgment()` to verify the agent's work

== Spring Boot Integration

For Spring Boot applications, you can use dependency injection. Here's the configuration from our working sample:

[source,java]
----
@Configuration
public class AgentConfiguration {

    @Bean
    public Path workingDirectory(
        @Value("${agent.working-directory:#{systemProperties['user.dir']}}") String workingDir
    ) {
        return Paths.get(workingDir);
    }

    @Bean
    public LocalSandbox sandbox(Path workingDirectory) {
        return new LocalSandbox(workingDirectory);
    }

    @Bean
    public ClaudeAgentOptions claudeAgentOptions() {
        return ClaudeAgentOptions.builder()
            .model("claude-sonnet-4-20250514")
            .yolo(true)
            .build();
    }

    @Bean
    public ClaudeAgentClient claudeAgentClient(Path workingDirectory) {
        return ClaudeAgentClient.create(CLIOptions.defaultOptions(), workingDirectory);
    }

    @Bean
    public AgentModel agentModel(
        ClaudeAgentClient claudeClient,
        ClaudeAgentOptions options,
        LocalSandbox sandbox
    ) {
        return new ClaudeAgentModel(claudeClient, options, sandbox);
    }
}
----

Then use it in a CommandLineRunner or Controller:

[source,java]
----
@Component
public class HelloWorldRunner implements CommandLineRunner {

    private final AgentModel agentModel;
    private final Path workingDirectory;

    public HelloWorldRunner(AgentModel agentModel, Path workingDirectory) {
        this.agentModel = agentModel;
        this.workingDirectory = workingDirectory;
    }

    @Override
    public void run(String... args) throws Exception {
        String goal = "Create a simple Hello World Java class in HelloWorld.java";

        // Create judge and advisor
        FileExistsJudge fileJudge = new FileExistsJudge("HelloWorld.java");
        JudgeAdvisor judgeAdvisor = JudgeAdvisor.builder()
            .judge(fileJudge)
            .build();

        // Create AgentClient with advisor
        AgentClient client = AgentClient.builder(agentModel)
            .defaultAdvisor(judgeAdvisor)
            .build();

        // Execute goal
        AgentClientResponse response = client.goal(goal)
            .workingDirectory(workingDirectory)
            .run();

        // Check results
        Judgment judgment = response.getJudgment();
        if (judgment != null && judgment.pass()) {
            System.out.println("Task completed successfully!");
        }
    }
}
----

TIP: See the complete working sample in `samples/getting-started-hello-world/`

== Next Steps

Now that you have a basic agent running, explore:

* xref:api/agentclient.adoc[AgentClient API] - Learn the full API capabilities
* xref:api/agentclient-vs-chatclient.adoc[AgentClient vs ChatClient] - See how AgentClient mirrors ChatClient patterns  
* xref:samples.adoc[Sample Agents] - Explore real-world agent examples
* xref:api/claude-code-sdk.adoc[Claude Code SDK] - Deep dive into Claude Code integration

== Troubleshooting

**Agent not found**: Make sure you've installed the CLI tool (`npm install -g @anthropic-ai/claude-code`) and it's in your PATH.

**API key issues**: Verify your environment variable is set correctly and your API key is valid.

**Permission denied**: Make sure the agent has access to your working directory and consider using `yolo(true)` for development.

For more help, see our xref:contribution-guidelines.adoc[Contribution Guidelines] for community support options.
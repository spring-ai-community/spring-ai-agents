= Hello World: Your First Agent Task
:page-title: Hello World with Spring AI Agents
:toc: left
:tabsize: 2

Spring AI Agents provides a fluent API for executing autonomous agent tasks. Let's start with the simplest possible example.

== Prerequisites

Add the following dependency to your `pom.xml`:

[source,xml]
----
<dependency>
    <groupId>org.springaicommunity.agents</groupId>
    <artifactId>spring-ai-claude-agent</artifactId>
    <version>0.1.0-SNAPSHOT</version>
</dependency>
----

**Authentication**: Run `claude auth login` or set the `ANTHROPIC_API_KEY` environment variable.

== Your First Agent Task

[source,java]
----
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springaicommunity.agents.client.AgentClient;
import org.springaicommunity.agents.client.AgentClientResponse;

import java.nio.file.Path;

@SpringBootApplication
public class HelloWorldApplication {

    public static void main(String[] args) {
        SpringApplication.run(HelloWorldApplication.class, args);
    }

    @Bean
    CommandLineRunner demo(AgentClient.Builder agentClientBuilder) {
        return args -> {
            AgentClientResponse response = agentClientBuilder
                .goal("Create a file named hello.txt with content 'Hello World'")
                .workingDirectory(Path.of("/tmp/hello"))
                .call();

            System.out.println("Agent completed!");
            System.out.println("Output: " + response.getResult());
        };
    }
}
----

== What Just Happened?

Let's break down what the agent did:

1. **Goal** - We specified what we want: "Create a file named hello.txt with content 'Hello World'"
2. **Working Directory** - The agent operates in `/tmp/hello`
3. **Agent Execution** - Claude Code autonomously:
   * Created the directory `/tmp/hello` if it didn't exist
   * Created `hello.txt` inside that directory
   * Wrote "Hello World" to the file
   * Verified the file was created successfully
4. **Response** - We received the agent's final output describing what it accomplished

== Verify It Worked

Check that the file was created:

[source,bash]
----
$ cat /tmp/hello/hello.txt
Hello World
----

The agent successfully completed your goal!

== Key Concepts

=== Goal-Driven Execution

You specify *what* you want, not *how* to do it.

[source,java]
----
// ❌ Traditional approach: specify HOW (imperative)
Files.createDirectories(path);
Files.writeString(path.resolve("hello.txt"), "Hello World");

// ✅ Agent approach: specify WHAT (declarative)
agentClientBuilder
    .goal("Create a file named hello.txt with content 'Hello World'")
    .workingDirectory(path)
    .call();
----

=== Autonomous Execution

The agent figures out the steps needed to achieve your goal. It might:

* Check if the directory exists
* Create it if needed
* Determine the best way to create the file
* Write the content
* Verify the result

You don't write the steps—the agent does.

== Understanding the AgentClient.Builder

The `AgentClient.Builder` provides a fluent API for configuring agent tasks:

[cols="1,3"]
|===
|Method |Purpose

|`goal(String)`
|**Required.** The objective you want the agent to achieve.

|`workingDirectory(Path)`
|**Required.** The directory where the agent will operate (file operations are scoped here).

|`call()`
|Execute the agent task and return the response.
|===

More advanced options (advisors, context engineering) will be covered in later guides.

== Creating AgentClient.Builder

You need to manually create the `AgentClient.Builder` by configuring an `AgentModel`:

[source,java]
----
import org.springaicommunity.agents.claude.ClaudeAgentModel;
import org.springaicommunity.agents.claude.ClaudeAgentOptions;
import org.springaicommunity.agents.claude.sdk.ClaudeClient;

@Configuration
public class AgentConfiguration {

    @Bean
    public AgentClient.Builder agentClientBuilder() {
        // Create Claude client
        ClaudeClient claudeClient = ClaudeClient.create();

        // Configure options
        ClaudeAgentOptions options = ClaudeAgentOptions.builder()
            .model("claude-sonnet-4-20250514")
            .yoloMode(true)  // Allow agent to make changes
            .build();

        // Create agent model
        ClaudeAgentModel agentModel = new ClaudeAgentModel(claudeClient, options);

        // Return builder
        return AgentClient.builder(agentModel);
    }
}
----

Then inject the builder into your components:

[source,java]
----
@Service
public class MyService {

    private final AgentClient.Builder agentClientBuilder;

    public MyService(AgentClient.Builder agentClientBuilder) {
        this.agentClientBuilder = agentClientBuilder;
    }

    public void doSomething() {
        AgentClientResponse response = agentClientBuilder
            .goal("...")
            .workingDirectory(...)
            .call();
    }
}
----

== Next Steps

Now that you understand basic agent execution, learn how to:

* xref:goals-and-workspaces.adoc[Design effective goals and use workspaces]
* xref:first-judge.adoc[Verify agent success with judges]
* xref:../concepts/cli-agents.adoc[Understand CLI agents and their architecture]

[TIP]
====
You just used a **CLI agent**! Claude Code executed commands autonomously in your environment. Learn more about this in xref:../concepts/cli-agents.adoc[CLI Agents].
====

= Hello World: Your First Agent Task
:page-title: Hello World with Spring AI Agents
:toc: left
:tabsize: 2

Spring AI Agents provides a fluent API for executing autonomous agent tasks. Let's start with the simplest possible example.

== Prerequisites

Add the Spring AI Claude Agent starter to your `pom.xml`:

[source,xml]
----
<dependency>
    <groupId>org.springaicommunity.agents</groupId>
    <artifactId>spring-ai-starter-agent-claude</artifactId>
    <version>0.1.0-SNAPSHOT</version>
</dependency>
----

This starter includes everything you need: AgentClient, Claude integration, and Judge support.

**Authentication**: Run `claude auth login` or set the `ANTHROPIC_API_KEY` environment variable.

== Your First Agent Task

[source,java]
----
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springaicommunity.agents.advisors.judge.JudgeAdvisor;
import org.springaicommunity.agents.client.AgentClient;
import org.springaicommunity.agents.client.AgentClientResponse;
import org.springaicommunity.agents.judge.fs.FileExistsJudge;
import org.springaicommunity.agents.judge.result.Judgment;

import java.nio.file.Path;

@SpringBootApplication
public class HelloWorldApplication {

    public static void main(String[] args) {
        SpringApplication.run(HelloWorldApplication.class, args);
    }

    @Bean
    CommandLineRunner demo(AgentClient.Builder agentClientBuilder) {
        return args -> {
            AgentClientResponse response = agentClientBuilder.build()
                .goal("Create a file named hello.txt with content 'Hello World'")
                .workingDirectory(Path.of("/tmp/hello"))
                .advisors(JudgeAdvisor.builder().judge(new FileExistsJudge("hello.txt")).build())
                .run();

            Judgment judgment = response.getJudgment();
            System.out.println("Agent completed!");
            System.out.println("Result: " + response.getResult());
            System.out.println("Judge: " + (judgment != null && judgment.pass() ? "PASSED" : "FAILED"));
        };
    }
}
----

== What Just Happened?

Let's break down what the agent did:

1. **Goal** - We specified what we want: "Create a file named hello.txt with content 'Hello World'"
2. **Working Directory** - The agent operates in `/tmp/hello`
3. **Judge Advisor** - We added a `FileExistsJudge` to verify the file was created
4. **Agent Execution** - Claude Code autonomously:
   * Created the directory `/tmp/hello` if it didn't exist
   * Created `hello.txt` inside that directory
   * Wrote "Hello World" to the file
5. **Verification** - The judge verified the file exists and returned a passing judgment
6. **Response** - We received the agent's final output and judge verdict

== Verify It Worked

Check that the file was created:

[source,bash]
----
$ cat /tmp/hello/hello.txt
Hello World
----

The agent successfully completed your goal!

== Key Concepts

=== Goal-Driven Execution

You specify *what* you want, not *how* to do it.

[source,java]
----
// ❌ Traditional approach: specify HOW (imperative)
Files.createDirectories(path);
Files.writeString(path.resolve("hello.txt"), "Hello World");

// ✅ Agent approach: specify WHAT (declarative)
agentClientBuilder.build()
    .goal("Create a file named hello.txt with content 'Hello World'")
    .workingDirectory(path)
    .run();
----

=== Autonomous Execution

The agent figures out the steps needed to achieve your goal. It might:

* Check if the directory exists
* Create it if needed
* Determine the best way to create the file
* Write the content
* Verify the result

You don't write the steps—the agent does.

== Understanding the AgentClient Fluent API

The `AgentClient` provides a clean fluent API for configuring agent tasks:

[cols="1,3"]
|===
|Method |Purpose

|`goal(String)`
|**Required.** The objective you want the agent to achieve.

|`workingDirectory(Path)`
|**Required.** The directory where the agent will operate (file operations are scoped here).

|`advisors(AgentCallAdvisor...)`
|**Optional.** Add advisors to verify, log, or augment agent execution (e.g., judges).

|`run()`
|Execute the agent task and return the response.
|===

The fluent chain makes it easy to build up your agent request step by step.

Spring Boot autoconfiguration handles everything automatically:

* `AgentClient.Builder` bean (prototype scope)
* Claude agent (model: claude-sonnet-4.5, yolo: true)
* LocalSandbox for secure execution

No manual configuration required!

== Next Steps

Now that you understand basic agent execution, learn how to:

* xref:getting-started/goals-and-workspaces.adoc[Design effective goals and use workspaces]
* xref:getting-started/first-judge.adoc[Verify agent success with judges]
* xref:../concepts/cli-agents.adoc[Understand CLI agents and their architecture]

[TIP]
====
You just used a **CLI agent**! Claude Code executed commands autonomously in your environment. Learn more about this in xref:../concepts/cli-agents.adoc[CLI Agents].
====
